<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_rectangle_menu_item">
    <sp_rectangle_menu_item action="INSERT_OR_UPDATE">
        <active>false</active>
        <color>default</color>
        <condition/>
        <display_1>instance</display_1>
        <display_2>username</display_2>
        <display_date>sys_created_on</display_date>
        <filter table="x_ssnbv_symcode_credential">userDYNAMIC90d1921e5f510100a9ad2572f2b477fe^instance.active=true^EQ^ORDERBYinstance.name<item endquery="false" field="user" goto="false" newquery="false" operator="DYNAMIC" or="false" value="90d1921e5f510100a9ad2572f2b477fe"/>
            <item endquery="false" field="instance.active" goto="false" newquery="false" operator="=" or="false" value="true"/>
            <item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/>
            <item endquery="false" field="" goto="false" newquery="false" operator="ORDERBY" or="false" value="instance.name"/>
        </filter>
        <glyph>user</glyph>
        <hint/>
        <kb_article/>
        <kb_category/>
        <kb_topic/>
        <label>Credentials</label>
        <order>110</order>
        <record_script><![CDATA[// settings
var max = 10;

// prepare data
data.items = [];
data.record_watchers = [];

// get records
getRecords(data, 'x_ssnbv_symcode_credential', 'instance.active=true^userDYNAMIC90d1921e5f510100a9ad2572f2b477fe', 'instance.name', max, 'instance', '', 'sys_created_on');

// finalize data
data.count = data.items.length;
data.items = data.items.slice(0, 5); 
data.items.unshift({title: gs.getMessage('Show all'), type: 'link',show_always: true, href: '?id=symcode_credentials', items: []}); 

// omit dropdown, go to list page
data.href = '?id=requests';
data.show_always = true;

// worker
function getRecords(data, table, filter, order, max, title, subtitle, date, link) {
	data.record_watchers.push({'table':table,'filter':filter});
	var gr = new GlideRecord(table);
	gr.addEncodedQuery(filter);
	gr.orderBy(order);
	gr.setLimit(max);
	gr.query();
	while (gr.next()) {
	  var a = {
		'title': gr[title].getDisplayValue()+(subtitle ? ' '+gr[subtitle].getDisplayValue() : ''),
		'subtitle': (subtitle ? gr[subtitle].getDisplayValue() : ''),
		'date_internal': gr[date].toString(),
		'date': gr[date].getDisplayValue(),
        'type': 'link',
      	'href': '?id=symcode_credential&table='+gr.getTableName()+'&sys_id='+gr.getUniqueValue()+'&view=sp',
      };
	  data.items.push(a);
	}
}]]></record_script>
        <sc_cat_item/>
        <sc_category/>
        <short_description/>
        <sp_page/>
        <sp_rectangle_menu display_value="SymCode Header Menu">48c7915937b533005144549543990e66</sp_rectangle_menu>
        <sp_rectangle_menu_item/>
        <sys_class_name>sp_rectangle_menu_item</sys_class_name>
        <sys_created_by>jari.eskelinen@symfoni-esm.com</sys_created_by>
        <sys_created_on>2019-06-01 18:21:43</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>88c9d91d37b533005144549543990eb7</sys_id>
        <sys_mod_count>24</sys_mod_count>
        <sys_name>Credentials</sys_name>
        <sys_package display_value="SymCode" source="x_ssnbv_symcode">ce1cd729372c3b805144549543990ec5</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="SymCode">ce1cd729372c3b805144549543990ec5</sys_scope>
        <sys_update_name>sp_rectangle_menu_item_88c9d91d37b533005144549543990eb7</sys_update_name>
        <sys_updated_by>syed.imam@fujitsu.com</sys_updated_by>
        <sys_updated_on>2022-07-07 06:58:22</sys_updated_on>
        <table>x_ssnbv_symcode_credential</table>
        <type>scripted</type>
        <url/>
        <url_target/>
    </sp_rectangle_menu_item>
    <sys_translated_text action="delete_multiple" query="documentkey=88c9d91d37b533005144549543990eb7"/>
    <sys_translated_text action="INSERT_OR_UPDATE">
        <documentkey>88c9d91d37b533005144549543990eb7</documentkey>
        <fieldname>label</fieldname>
        <language>ko</language>
        <sys_created_by>system</sys_created_by>
        <sys_created_on>2023-10-10 10:47:47</sys_created_on>
        <sys_id>f0e456691bb579d070f8a868b04bcbd8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>system</sys_updated_by>
        <sys_updated_on>2023-10-10 10:47:47</sys_updated_on>
        <tablename>sp_rectangle_menu_item</tablename>
        <value>신임장</value>
    </sys_translated_text>
    <sys_translated_text action="INSERT_OR_UPDATE">
        <documentkey>88c9d91d37b533005144549543990eb7</documentkey>
        <fieldname>label</fieldname>
        <language>mi</language>
        <sys_created_by>system</sys_created_by>
        <sys_created_on>2021-11-11 18:18:05</sys_created_on>
        <sys_id>1b3659c5877bb85052f9ece30cbb35ec</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>system</sys_updated_by>
        <sys_updated_on>2021-11-11 18:18:05</sys_updated_on>
        <tablename>sp_rectangle_menu_item</tablename>
        <value>Taipitopito</value>
    </sys_translated_text>
    <sys_translated_text action="INSERT_OR_UPDATE">
        <documentkey>88c9d91d37b533005144549543990eb7</documentkey>
        <fieldname>label</fieldname>
        <language>zh-TW</language>
        <sys_created_by>system</sys_created_by>
        <sys_created_on>2022-05-13 19:18:18</sys_created_on>
        <sys_id>f5febf7f8753811052f9ece30cbb3518</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>system</sys_updated_by>
        <sys_updated_on>2022-05-13 19:18:18</sys_updated_on>
        <tablename>sp_rectangle_menu_item</tablename>
        <value>證書</value>
    </sys_translated_text>
</record_update>
